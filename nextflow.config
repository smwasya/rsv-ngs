params {
    input = ''
    output= ''
    adapter_file = "/home/sam/resvgen_smk/adapters/TruSeq3-PE-2.fa"
    threads = 4
    reference = "/home/sam/resvgen_smk/schemes/RSVA-and-B-primer-schemes/RSV_SCHEME/V1a/RSV_SCHEME.reference.fasta"
    rsv_scheme = "/home/sam/resvgen_smk/schemes/RSVA-and-B-primer-schemes/RSV_SCHEME/V1a/RSV_SCHEME.scheme.bed"
    mosdepth_regions = "/home/sam/resvgen_smk/schemes/RSVA-and-B-primer-schemes/RSV_SCHEME/V1a/RSV_SCHEME.regions.bed"
    organize_output = true
}

singularity {
    enabled = true
    autoMounts = true
    pullTimeout = '60 min'
}

process {
    withName: 'INDEX_REFERENCE|BWA_MEM' {
        container = 'quay.io/biocontainers/bwa:0.7.17--hed695b0_7'
    }
    withName: TRIMMOMATIC {
        container = 'quay.io/biocontainers/trimmomatic:0.39--hdfd78af_2'
    }
    withName: 'QUALITY_CHECK_RAW_READS|FASTQC_TRIMMED' {
        container = 'quay.io/biocontainers/fastqc:0.11.9--0'
    }
    withName: SAM_TO_BAM {
        container = 'quay.io/biocontainers/samtools:1.15.1--h1170115_0'
    }
    withName: 'IVAR_TRIM|IVAR_VARIANTS|IVAR_CONSENSUS' {
        container = 'quay.io/biocontainers/ivar:1.3.1--h089eab3_0'
    }
    withName: 'MULTIQC_RAW|MULTIQC_TRIMMED' {
        container = 'quay.io/biocontainers/multiqc:1.13--pyhdfd78af_0'
    }
    withName: MOSDEPTH {
        container = 'quay.io/biocontainers/mosdepth:0.3.3--hdfd78af_1'
    }
}